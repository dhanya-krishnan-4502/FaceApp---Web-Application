{"ast":null,"code":"import { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\nexport function extractParams(weights) {\n  var paramMappings = [];\n  var _a = TfjsImageRecognitionBase.extractWeightsFactory(weights),\n    extractWeights = _a.extractWeights,\n    getRemainingWeights = _a.getRemainingWeights;\n  var extractFCParams = TfjsImageRecognitionBase.extractFCParamsFactory(extractWeights, paramMappings);\n  var age = extractFCParams(512, 1, 'fc/age');\n  var gender = extractFCParams(512, 2, 'fc/gender');\n  if (getRemainingWeights().length !== 0) {\n    throw new Error(\"weights remaing after extract: \" + getRemainingWeights().length);\n  }\n  return {\n    paramMappings: paramMappings,\n    params: {\n      fc: {\n        age: age,\n        gender: gender\n      }\n    }\n  };\n}","map":{"version":3,"names":["TfjsImageRecognitionBase","extractParams","weights","paramMappings","_a","extractWeightsFactory","extractWeights","getRemainingWeights","extractFCParams","extractFCParamsFactory","age","gender","length","Error","params","fc"],"sources":["/Users/dhanya/node_modules/face-api.js/src/ageGenderNet/extractParams.ts"],"sourcesContent":["import { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { NetParams } from './types';\r\n\r\nexport function extractParams(weights: Float32Array): { params: NetParams, paramMappings: TfjsImageRecognitionBase.ParamMapping[] } {\r\n\r\n  const paramMappings: TfjsImageRecognitionBase.ParamMapping[] = []\r\n\r\n  const {\r\n    extractWeights,\r\n    getRemainingWeights\r\n  } = TfjsImageRecognitionBase.extractWeightsFactory(weights)\r\n\r\n  const extractFCParams = TfjsImageRecognitionBase.extractFCParamsFactory(extractWeights, paramMappings)\r\n\r\n  const age = extractFCParams(512, 1, 'fc/age')\r\n  const gender = extractFCParams(512, 2, 'fc/gender')\r\n\r\n  if (getRemainingWeights().length !== 0) {\r\n    throw new Error(`weights remaing after extract: ${getRemainingWeights().length}`)\r\n  }\r\n\r\n  return {\r\n    paramMappings,\r\n    params: { fc: { age, gender } }\r\n  }\r\n}"],"mappings":"AAAA,SAASA,wBAAwB,QAAQ,6BAA6B;AAItE,OAAM,SAAUC,aAAaA,CAACC,OAAqB;EAEjD,IAAMC,aAAa,GAA4C,EAAE;EAE3D,IAAAC,EAAA,GAAAJ,wBAAA,CAAAK,qBAAA,CAAAH,OAAA,CAGqD;IAFzDI,cAAA,GAAAF,EAAA,CAAAE,cAAc;IACdC,mBAAA,GAAAH,EAAA,CAAAG,mBACyD;EAE3D,IAAMC,eAAe,GAAGR,wBAAwB,CAACS,sBAAsB,CAACH,cAAc,EAAEH,aAAa,CAAC;EAEtG,IAAMO,GAAG,GAAGF,eAAe,CAAC,GAAG,EAAE,CAAC,EAAE,QAAQ,CAAC;EAC7C,IAAMG,MAAM,GAAGH,eAAe,CAAC,GAAG,EAAE,CAAC,EAAE,WAAW,CAAC;EAEnD,IAAID,mBAAmB,EAAE,CAACK,MAAM,KAAK,CAAC,EAAE;IACtC,MAAM,IAAIC,KAAK,CAAC,oCAAkCN,mBAAmB,EAAE,CAACK,MAAQ,CAAC;;EAGnF,OAAO;IACLT,aAAa,EAAAA,aAAA;IACbW,MAAM,EAAE;MAAEC,EAAE,EAAE;QAAEL,GAAG,EAAAA,GAAA;QAAEC,MAAM,EAAAA;MAAA;IAAE;GAC9B;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}