{"ast":null,"code":"import * as tf from '@tensorflow/tfjs-core';\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\nexport function boxPredictionLayer(x, params) {\n  return tf.tidy(function () {\n    var batchSize = x.shape[0];\n    var boxPredictionEncoding = tf.reshape(TfjsImageRecognitionBase.convLayer(x, params.box_encoding_predictor), [batchSize, -1, 1, 4]);\n    var classPrediction = tf.reshape(TfjsImageRecognitionBase.convLayer(x, params.class_predictor), [batchSize, -1, 3]);\n    return {\n      boxPredictionEncoding: boxPredictionEncoding,\n      classPrediction: classPrediction\n    };\n  });\n}","map":{"version":3,"names":["tf","TfjsImageRecognitionBase","boxPredictionLayer","x","params","tidy","batchSize","shape","boxPredictionEncoding","reshape","convLayer","box_encoding_predictor","classPrediction","class_predictor"],"sources":["/Users/dhanya/node_modules/face-api.js/src/ssdMobilenetv1/boxPredictionLayer.ts"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { TfjsImageRecognitionBase } from 'tfjs-image-recognition-base';\r\n\r\nimport { BoxPredictionParams } from './types';\r\n\r\n\r\nexport function boxPredictionLayer(\r\n  x: tf.Tensor4D,\r\n  params: BoxPredictionParams\r\n) {\r\n  return tf.tidy(() => {\r\n\r\n    const batchSize = x.shape[0]\r\n\r\n    const boxPredictionEncoding = tf.reshape(\r\n      TfjsImageRecognitionBase.convLayer(x, params.box_encoding_predictor),\r\n      [batchSize, -1, 1, 4]\r\n    )\r\n    const classPrediction = tf.reshape(\r\n      TfjsImageRecognitionBase.convLayer(x, params.class_predictor),\r\n      [batchSize, -1, 3]\r\n    )\r\n\r\n    return {\r\n      boxPredictionEncoding,\r\n      classPrediction\r\n    }\r\n  })\r\n}"],"mappings":"AAAA,OAAO,KAAKA,EAAE,MAAM,uBAAuB;AAC3C,SAASC,wBAAwB,QAAQ,6BAA6B;AAKtE,OAAM,SAAUC,kBAAkBA,CAChCC,CAAc,EACdC,MAA2B;EAE3B,OAAOJ,EAAE,CAACK,IAAI,CAAC;IAEb,IAAMC,SAAS,GAAGH,CAAC,CAACI,KAAK,CAAC,CAAC,CAAC;IAE5B,IAAMC,qBAAqB,GAAGR,EAAE,CAACS,OAAO,CACtCR,wBAAwB,CAACS,SAAS,CAACP,CAAC,EAAEC,MAAM,CAACO,sBAAsB,CAAC,EACpE,CAACL,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CACtB;IACD,IAAMM,eAAe,GAAGZ,EAAE,CAACS,OAAO,CAChCR,wBAAwB,CAACS,SAAS,CAACP,CAAC,EAAEC,MAAM,CAACS,eAAe,CAAC,EAC7D,CAACP,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CACnB;IAED,OAAO;MACLE,qBAAqB,EAAAA,qBAAA;MACrBI,eAAe,EAAAA;KAChB;EACH,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}